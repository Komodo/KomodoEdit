<!-- Copyright (c) 2003-2006 ActiveState Software Inc. -->
<!-- See the file LICENSE.txt for licensing information. -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 1 September 2005), see www.w3.org" />
  <link rel="stylesheet" type="text/css" href="aspn.css" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="favicon.ico" type=
  "image/x-icon" />

  <title>Interpolation Shortcuts</title>
</head>

<body>
  <h1><a name="shortcuts_top" id="shortcuts_top">Interpolation
  Shortcuts</a></h1>

  <p>Interpolation shortcuts are codes embedded in <a href=
  "komodo-doc-run.html#run_top">run commands</a>, <a href=
  "komodo-doc-snippets.html#snippets_top">snippets</a> or <a href=
  "komodo-doc-templates.html#templates_top">templates</a> that, at
  "execution" time, get replaced with values. For example, the path
  and name of the current file can be inserted via an interpolation
  shortcut when a run command is executed.</p>

  <p>Interpolation shortcuts can be inserted in Run Commands using
  the drop-down list to the right of <strong>Command</strong> field
  in the "Add Command..." and "Properties" dialog boxes, or entered
  manually. When using interpolation shortcuts in snippets or
  templates, insert the interpolation code using <a href=
  "#shortcuts_brack">bracketed syntax</a>. Run commands and
  snippets can be stored in a <a href=
  "komodo-doc-project.html#project_top">project</a> or the <a href=
  "komodo-doc-toolbox.html#toolbox_top">Toolbox</a> for frequent
  use.</p>

  <h2><a name="shortcuts_all_codes" id=
  "shortcuts_all_codes">Interpolation Code List</a></h2>

  <p>The following table shows the interpolation shortcuts
  available in Komodo. Windows users should enclose shortcuts for
  files and directories in double quotes (e.g. "%F") to ensure that
  spaces in the file name or file path are interpreted
  correctly.</p>

  <table border="1" cellpadding="5">
    <tr>
      <td><b>Code</b></td>

      <td><b>Description</b></td>
    </tr>

    <tr>
      <td><b>%%</b></td>

      <td>a literal percent sign (%) (e.g. %%PATH%% instead of
      %PATH% on Windows)</td>
    </tr>

    <tr>
      <td><b>%f</b></td>

      <td>the basename of the current file</td>
    </tr>

    <tr>
      <td><b>%b</b></td>

      <td>the basename of the current file without it's
      extension</td>
    </tr>

    <tr>
      <td><b>%F</b></td>

      <td>the full path and name of the current file</td>
    </tr>

    <tr>
      <td><b>%L</b></td>

      <td>the line where the editing cursor is located within the
      current file</td>
    </tr>

    <tr>
      <td><b>%d</b></td>

      <td>the base directory of the current file</td>
    </tr>

    <tr>
      <td><b>%D</b></td>

      <td>the entire directory path of the current file</td>
    </tr>

    <tr>
      <td><b>%P</b></td>

      <td>the full path of the active project</td>
    </tr>

    <tr>
      <td><b>%p</b></td>

      <td>the directory path of the active project</td>
    </tr>

    <tr>
      <td><b>%w</b></td>

      <td>the word under the cursor in the editor</td>
    </tr>

    <tr>
      <td><b>%W</b></td>

      <td>URL-escaped word under cursor; replaces characters that
      are not valid in a query string, such as spaces and
      ampersands</td>
    </tr>

    <tr>
      <td><b>%s</b></td>

      <td>the current selection; interpolates the text that is
      currently selected in the editor</td>
    </tr>

    <tr>
      <td><b>%S</b></td>

      <td>URL-escaped selection; replaces characters that are not
      valid in a query string, such as spaces and ampersands</td>
    </tr>

    <tr>
      <td><b>%(perl)</b></td>

      <td>the perl interpreter specified in Komodo's Perl
      preference</td>
    </tr>

    <tr>
      <td><b>%(php)</b></td>

      <td>the php interpreter specified in Komodo's PHP
      preference</td>
    </tr>

    <tr>
      <td><b>%(python)</b></td>

      <td>the python interpreter specified in Komodo's Python
      preference</td>
    </tr>

    <tr>
      <td><b>%(pythonw)</b></td>

      <td>the pythonw interpreter for python scripts that display a
      GUI (Windows and OS X only - requires ActivePython)</td>
    </tr>

    <tr>
      <td><b>%(ruby)</b></td>

      <td>the ruby interpreter specified in Komodo's Ruby
      preference</td>
    </tr>

    <tr>
      <td><b>%(browser)</b></td>

      <td>the browser specified in Komodo's Web Browser
      preference</td>
    </tr>

    <tr>
      <td><b>%(guid)</b></td>

      <td>a new GUID (Global Unique Identifier)</td>
    </tr>

    <tr>
      <td><b>date *</b></td>

      <td>the current date</td>
    </tr>

    <tr>
      <td><b>%(ask)</b></td>

      <td>ask the user for a value when invoked (see <a href=
      "#shortcuts_askcode_syntax">%(ask) Syntax</a>)</td>
    </tr>

    <tr>
      <td><b>%(askpass)</b></td>

      <td>ask the user for a password when invoked (see <a href=
      "#shortcuts_askcode_syntax">%(askpass) Syntax</a>)</td>
    </tr>

    <tr>
      <td><b>%(path)</b></td>

      <td>special Komodo directories (see <a href=
      "#shortcuts_pathcode_syntax">%(path) Syntax</a>)</td>
    </tr>

    <tr>
      <td><b>%(pref)</b></td>

      <td>values from Komodo preferences (see <a href=
      "#shortcuts_prefscode_syntax">%(pref) Syntax</a>)</td>
    </tr>

    <tr>
      <td><b>%(debugger)</b></td>

      <td>runtime properties of the debugger system (see <a href=
      "#shortcuts_debugcode_syntax">%(debugger</a>)</td>
    </tr>
  </table>

  <h2><a name="basic" id="basic">Basic Interpolation Shortcut
  Syntax</a></h2>

  <p>Interpolation shortcut blocks come in two forms: bracketed and
  non-bracketed. <a class="doc" href=
  "komodo-doc-run.html#run_top">Run commands</a> use the
  non-bracketed format. <a class="doc" href=
  "komodo-doc-snippets.html#snippets_top">snippets</a> and
  <a class="doc" href=
  "komodo-doc-templates.html#templates_top">templates</a> use the
  bracketed format.</p>

  <h3><a name="shortcuts_nonbrack" id=
  "shortcuts_nonbrack">Non-Bracketed Syntax</a></h3>

  <p>The syntax for a non-bracketed interpolation code is:</p>
  <pre class="code">
%&lt;code&gt;
</pre>

  <p>For shortcuts with options:</p>
  <pre class="code">
%(&lt;code&gt;&lt;backref&gt;:&lt;options&gt;...)
</pre>

  <p>For example:</p>
  <pre class="code">
%(perl)
%w
%guid2
%(ask:Your Name:Trent Mick)
</pre>

  <p>The parentheses are optional if the block does not contain
  spaces. For example, the following two commands are
  equivalent:</p>
  <pre class="code">
%ask:Name:Trent
%(ask:Name:Trent)
</pre>

  <h3><a name="shortcuts_brack" id="shortcuts_brack">Bracketed
  Syntax</a></h3>

  <p>The syntax for a bracketed interpolation code is:</p>
  <pre class="code">
[[%(&lt;code&gt;&lt;backref&gt;:&lt;options&gt;...)]]
</pre>

  <p>&lt;code&gt; is one of the codes shown in the table above,
  &lt;backref&gt; is a number and &lt;options&gt;... depend on the
  specific code. <a class="doc" href=
  "#back_references">Back-references</a> and <a class="doc" href=
  "#options">options</a> are discussed in other sections. The
  following are examples of bracketed syntax:</p>
  <pre class="code">
[[%perl]]
[[%w]]
[[%guid2]]
[[%ask:Your Name:Trent Mick]]
</pre>

  <p>With bracketed interpolation codes, the parentheses are always
  optional. The double brackets enclose spaces, making parentheses
  unnecessary. For example, both of the following commands are
  valid:</p>
  <pre class="code">
[[%ask:Your Name:Trent Mick]]
[[%(ask:Your Name:Trent Mick)]]
</pre>

  <p>Bracketed interpolation code blocks permit some excess space
  immediately adjacent to the double brackets. For example the
  following are equivalent:</p>
  <pre class="code">
[[%ask:Your Name:Trent Mick]]
[[   %ask:Your Name:Trent Mick]]
[[%(ask:Your Name:Trent Mick)       ]]
[[  %(ask:Your Name:Trent Mick)   ]]
</pre>

  <h2><a name="options" id="options">Basic Interpolation Shortcut
  Options</a></h2>

  <p>The following table shows the standard options available for
  <em>most</em> interpolation shortcuts. The <a href=
  "#shortcuts_askcode">%(ask)</a>, <a href=
  "#shortcuts_askcode">%(askpass)</a>, <a href=
  "#shortcuts_pathcode">%(path)</a>, <a href=
  "#shortcuts_prefscode">%(pref)</a> and <a href=
  "#shortcuts_debugcode">%(debugger)</a> shortcuts have their own
  options and syntax.</p>

  <table border="1" cellpadding="5">
    <tr>
      <td><b>Option</b></td>

      <td><b>Syntax</b></td>

      <td><b>Description</b></td>
    </tr>

    <tr>
      <td>orask</td>

      <td>%(&lt;code&gt;:<b>orask</b>:&lt;question&gt;)</td>

      <td>If a value for the shortcut cannot be determined
      automatically, the user is prompted when the command is
      invoked. The &lt;question&gt; is text that will be displayed
      when the user is asked to enter a value.</td>
    </tr>

    <tr>
      <td>else</td>

      <td>%(&lt;code&gt;:<b>else</b>:&lt;default&gt;)</td>

      <td>If a value for the shortcut cannot be determined
      automatically, then &lt;default&gt; is used.</td>
    </tr>
  </table>

  <p>Use the <code>%(...:orask)</code> modifier with other
  interpolation shortcuts to prompt for input if no value can be
  determined. For example:</p>
  <pre class="code">
%(s:orask:Element Name)
</pre>

  <p>If there is no selected text, a pop-up dialog box appears with
  a text field called "Element Name".</p>

  <p>See <a href="tutorial/runcmdtut.html#query_short">Using
  Command Query Shortcuts</a> in the Run Command Tutorial for
  examples of <code>%(ask)</code> and <code>%(...:orask)</code>
  shortcuts.</p>

  <h2><a name="shortcuts_datecode" id=
  "shortcuts_datecode">%(date)</a></h2>

  <p>A %(date) shortcut is replaced with the current date,
  formatted according to a given optional format or the default
  format.</p>

  <h3><a name="shortcuts_datecode_syntax" id=
  "shortcuts_datecode_syntax">%(date) Syntax</a></h3>

  <p>The syntax of the %(date) shorcut is as follows:</p>
  <pre class="code">
%(date&lt;backref&gt;:&lt;optional-format&gt;)
[[%(date:&lt;optional-format&gt;)]]
</pre>

  <p>As noted in the <a class="doc" href="#basic">Basic
  Interpolation Code Syntax</a> section, the parentheses are
  optional. The &lt;backref&gt; optional parameter is discussed in
  the <a class="doc" href="#back_references">Back-references</a>
  section. The following examples are valid:</p>
  <pre class="code">
%date
[[%date]]
%(date)
%date:%H:%M:%S
[[%date:%d/%m/%Y %H:%M:%S]]
</pre>

  <h3><a name="shortcuts_datecode_format" id=
  "shortcuts_datecode_format">%(date) Format Option</a></h3>

  <p>If no &lt;optional-format&gt; is specified in a date shortcut,
  the default date format is used. Configure the default date
  format using Komodo's <a class="doc" href=
  "komodo-doc-prefs.html#Internationalization">Internationalization</a>
  preferences.</p>

  <p>If this format is not appropriate, you can specify a different
  one using the following date formatting codes (from Python's
  <code>time.strftime()</code> method):</p>

  <table border="1" cellpadding="5">
    <tr>
      <td><b>Directive</b></td>

      <td><b>Meaning</b></td>
    </tr>

    <tr>
      <td><b>%a</b></td>

      <td>Locale's abbreviated weekday name.</td>
    </tr>

    <tr>
      <td><b>%A</b></td>

      <td>Locale's full weekday name.</td>
    </tr>

    <tr>
      <td><b>%b</b></td>

      <td>Locale's abbreviated month name.</td>
    </tr>

    <tr>
      <td><b>%B</b></td>

      <td>Locale's full month name.</td>
    </tr>

    <tr>
      <td><b>%c</b></td>

      <td>Locale's appropriate date and time representation.</td>
    </tr>

    <tr>
      <td><b>%d</b></td>

      <td>Day of the month as a decimal number [01,31].</td>
    </tr>

    <tr>
      <td><b>%H</b></td>

      <td>Hour (24-hour clock) as a decimal number [00,23].</td>
    </tr>

    <tr>
      <td><b>%I</b></td>

      <td>Hour (12-hour clock) as a decimal number [01,12].</td>
    </tr>

    <tr>
      <td><b>%j</b></td>

      <td>Day of the year as a decimal number [001,366].</td>
    </tr>

    <tr>
      <td><b>%m</b></td>

      <td>Month as a decimal number [01,12].</td>
    </tr>

    <tr>
      <td><b>%M</b></td>

      <td>Minute as a decimal number [00,59].</td>
    </tr>

    <tr>
      <td><b>%p</b></td>

      <td>Locale's equivalent of either AM or PM.</td>
    </tr>

    <tr>
      <td><b>%S</b></td>

      <td>Second as a decimal number [00,61].</td>
    </tr>

    <tr>
      <td><b>%U</b></td>

      <td>Week number of the year (Sunday as the first day of the
      week) as a decimal number [00,53]. All days in a new year
      preceding the first Sunday are considered to be in week
      0.</td>
    </tr>

    <tr>
      <td><b>%w</b></td>

      <td>Weekday as a decimal number [0(Sunday),6].</td>
    </tr>

    <tr>
      <td><b>%W</b></td>

      <td>Week number of the year (Monday as the first day of the
      week) as a decimal number [00,53]. All days in a new year
      preceding the first Sunday are considered to be in week
      0.</td>
    </tr>

    <tr>
      <td><b>%x</b></td>

      <td>Locale's appropriate date representation.</td>
    </tr>

    <tr>
      <td><b>%X</b></td>

      <td>Locale's appropriate time representation.</td>
    </tr>

    <tr>
      <td><b>%y</b></td>

      <td>Year without century as a decimal number [00,99].</td>
    </tr>

    <tr>
      <td><b>%Y</b></td>

      <td>Year with century as a decimal number.</td>
    </tr>

    <tr>
      <td><b>%Z</b></td>

      <td>Time zone name (or by no characters if no time zone
      exists).</td>
    </tr>

    <tr>
      <td><b>%%</b></td>

      <td>A literal "%" character.</td>
    </tr>
  </table>

  <p>For more information about Python's time access and
  conversions, see <a class="doc" target="_blank" href=
  "http://www.python.org/doc/2.2/lib/module-time.html">http://www.python.org/doc/2.2/lib/module-time.html</a></p>

  <h2><a name="shortcuts_askcode" id="shortcuts_askcode">%(ask) and
  %(askpass)</a></h2>

  <p>The <code>%(ask)</code> and <code>%(askpass)</code> shortcuts
  will prompt the user with a pop-up dialog box for a replacement
  value. The <code>%(askpass)</code> shortcut is appropriate for
  prompting for passwords as the text is obscured in the dialog box
  and the password is not stored in a most-recently-used list. If a
  snippet or run command includes more than one "ask" shortcut, the
  dialog box shows a field for each one.</p>

  <h3><a name="shortcuts_askcode_syntax" id=
  "shortcuts_askcode_syntax">%(ask) and %(askpass) Syntax</a></h3>

  <p>The <code>%(ask)</code> and <code>%(askpass)</code> shorcuts
  can be used without options, or with optional "name" and
  "default" values. The syntax is:</p>
  <pre class="code">
%(ask[:NAME:[DEFAULT]])
%(askpass[:NAME:[DEFAULT]])
</pre>

  <p>"NAME" appears next to the corresponding field in pop-up
  dialog box, and "DEFAULT" is an optional default value. A
  "DEFAULT" cannot be specified without a "NAME".</p>

  <p>Typical usage of the <code>%(askpass)</code> shortcut would
  use "Password" for the "NAME" and not set a "DEFAULT". For
  example:</p>
  <pre class="code">
%(askpass:Password)
</pre>

  <p>As noted in <a class="doc" href="#basic">Basic Interpolation
  Code Syntax</a>, usage of parentheses depends on the context. The
  following examples are valid:</p>
  <pre class="code">
%ask
[[%ask:Name]]
%ask:Name:Joe
%(ask:What is Your Name:Joe Smith)
</pre>

  <h3><a name="shortcuts_askcode_options" id=
  "shortcuts_askcode_options">%(ask) and %(askpass)
  Options</a></h3>

  <p>The <code>%(ask)</code> and <code>%(askpass)</code> shortcuts
  take two optional parameters. The first, &lt;question&gt;, is the
  text to display to the user when prompting for the value for that
  shortcut. The second, &lt;default&gt;, is the string used to
  preload the text field. For example:</p>
  <pre class="code">
%(ask&lt;backref&gt;:&lt;optional-question&gt;:&lt;optional-default&gt;)
[[%(ask&lt;backref&gt;:&lt;optional-question&gt;:&lt;optional-default&gt;)]]
</pre>

  <p>The &lt;backref&gt; optional parameter is discussed in the
  <a class="doc" href="#back_references">Back-references</a>
  section.</p>

  <h2><a name="shortcuts_pathcode" id=
  "shortcuts_pathcode">%(path)</a></h2>

  <p>The "path" codes are used to provide special directory paths
  based on the installation of Komodo that is currently running.
  These include such items as the common data directory, which may
  be necessary if you are building run commands that you intend to
  work on shared files.</p>

  <h3><a name="shortcuts_pathcode_syntax" id=
  "shortcuts_pathcode_syntax">%(path) Syntax</a></h3>

  <p>The syntax of the path shortcut is as follows:</p>
  <pre class="code">
%(path:&lt;pathName&gt;)
[[%(path:&lt;pathName&gt;)]]
</pre>

  <h3><a name="shortcuts_pathcode_options" id=
  "shortcuts_pathcode_options">%(path) Options</a></h3>

  <p>The %(path) shortcut takes one required parameter, "pathName".
  The pathName may be one of the following:</p>

  <table border="1" cellpadding="5">
    <tr>
      <td><b>Path Name</b></td>

      <td><b>Meaning</b></td>
    </tr>

    <tr>
      <td><b>userDataDir</b></td>

      <td>User-specific data directory where Komodo stores various
      information and files.</td>
    </tr>

    <tr>
      <td><b>hostUserDataDir</b></td>

      <td>The userDataDir contains some host-specfic directories.
      This is most common on systems where user directories are
      shared and used from more than one computer.</td>
    </tr>

    <tr>
      <td><b>commonDataDir</b></td>

      <td>The common data directory contains data and files that
      are shared between multiple users.</td>
    </tr>

    <tr>
      <td><b>supportDir</b></td>

      <td>Komodo's data support directory. This is somewhere under
      the Komodo install dir.</td>
    </tr>
  </table>

  <h2><a name="shortcuts_debugcode" id=
  "shortcuts_debugcode">%(debugger)</a></h2>

  <p>The %(debugger) shortcuts are used to provide runtime values
  from the debugger subsystem in Komodo. These codes can be used to
  provide debugging information to applications such as <a href=
  "http://activestate.com/Products/Perl_Dev_Kit/">PerlApp</a>.</p>

  <h3><a name="shortcuts_debugcode_syntax" id=
  "shortcuts_debugcode_syntax">%(debugger) Syntax</a></h3>

  <p>The syntax of the debugger shortcut is as follows:</p>
  <pre class="code">
%(debugger:&lt;value&gt;)
[[%(debugger:&lt;value&gt;)]]
</pre>

  <h3><a name="shortcuts_debugcode_options" id=
  "shortcuts_debugcode_options">%(debugger) Options</a></h3>

  <p>The %(debugger) shortcut requires a &lt;value&gt; parameter,
  which can be one of the following:</p>

  <table border="1" cellpadding="5">
    <tr>
      <td><b>Debugger Value</b></td>

      <td><b>Meaning</b></td>
    </tr>

    <tr>
      <td><b>address</b></td>

      <td>The hostname or address Komodo is running on.</td>
    </tr>

    <tr>
      <td><b>port</b></td>

      <td>The TCP/IP port number that the debugger system is
      listening on.</td>
    </tr>

    <tr>
      <td><b>proxyAddress</b></td>

      <td>The hostname or address of a debugger proxy that Komodo
      is using.</td>
    </tr>

    <tr>
      <td><b>proxyPort</b></td>

      <td>The TCP/IP port number of a debugger proxy that Komodo is
      using.</td>
    </tr>

    <tr>
      <td><b>proxyKey</b></td>

      <td>A session key, typically retrieved from the USER
      environment variable, that the proxy uses to match debug
      sessions with a specific running instance of Komodo.</td>
    </tr>
  </table>

  <h2><a name="shortcuts_prefscode" id=
  "shortcuts_prefscode">%(pref)</a></h2>

  <p>The %(pref) shortcut is used to provide values from Komodo's
  <a href="komodo-doc-prefs.html#prefs_top">Preferences</a>. The
  back-end of Komodo's preference system is undocumented, but you
  can examine the settings in the <em>prefs.xml</em> file in the
  <a href="komodo-doc-trouble.html#appdata_dir">user data
  directory</a> to find the preference IDs.</p>

  <h3><a name="shortcuts_prefscode_syntax" id=
  "shortcuts_prefscode_syntax">%(pref) Syntax</a></h3>

  <p>The syntax of the <code>%(pref)</code> shortcut is:</p>
  <pre class="code">
%(pref:&lt;prefName&gt;)
[[%(pref:&lt;prefName&gt;)]]
</pre>

  <p>Preference names may change between Komodo versions.</p>

  <h2><a name="back_references" id=
  "back_references">Back-References</a></h2>

  <p>Back-references are particularly useful for code snippets. You
  can use back-references to interpolate the same value any number
  of times in the snippet. Back-references make it possible to
  prompt the user for an input value only once, and then insert
  that value multiple times. For example, you could create a
  snippet that prompts for a value, which would then be entered at
  various places in the snippet text.</p>

  <h3><a name="back_references_syntax" id=
  "back_references_syntax">Back-Reference Syntax</a></h3>

  <p>You create a back-referenced set of shortcuts by suffixing the
  interpolation code with a number. The syntax for back-reference
  is as follows:</p>
  <pre class="code">
%(&lt;code&gt;&lt;backref&gt;:&lt;options&gt;...)
[[%(&lt;code&gt;&lt;backref&gt;:&lt;options&gt;...)]]
</pre>

  <p>For example:</p>
  <pre class="code">
%(ask1:Name:Trent)
%w1:else:Foo
[[%guid1]]
</pre>

  <p>All interpolation blocks with the same shortcut/number pairs
  are part of the same back-reference set. All members of the same
  back-reference set will be replaced with the first code block in
  that set. For example:</p>
  <pre class="code">
echo Hi there %(ask1:Name:Trent). That name again is %ask1
</pre>

  <p>This opens a pop-up dialog box prompting for <em>one</em>
  entry, "Name", with a default of "Trent". Whatever value the user
  entered for "Name" would then be inserted in <em>two</em> places
  in the command, resulting in the following command:</p>
  <pre class="code">
echo Hi there Bill. That name again is Bill
</pre>

  <p>Another useful application of back-references is the "guid"
  code. A guid code is replaced with a new GUID (Globally Unique
  Identifier). Sometimes it is desirable to have the same GUID
  inserted in more than one place in a file. In snippets, this can
  be done by using a code "%guid1" instead of just "%guid" wherever
  you want the GUID inserted.</p>

  <hr />
</body>
</html>

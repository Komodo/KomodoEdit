<!-- Copyright (c) 2000-2006 ActiveState Software Inc. -->
<!-- See the file LICENSE.txt for licensing information. -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 1 September 2005), see www.w3.org" />
  <link rel="stylesheet" type="text/css" href="aspn.css" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="favicon.ico" type=
  "image/x-icon" />

  <title>Vi Key Bindings (Default)</title>
</head>

<body>
  <h1><a name="vikeybind_top" id="vikeybind_top">Vi Key
  Bindings</a></h1>

  <p>Vi emulation mimics the modal behavior of the Vi editor. The
  <a href="#vi_scheme">Vi scheme</a> (and custom schemes created
  with Vi emulation) require this emulation in order to assign
  keystrokes to appropriate actions in the various modes.</p>

  <p>Keybinding schemes and Vi emulation are configured in <a href=
  "komodo-doc-prefs.html#Config_Key_Bindings">Edit|Preferences|Editor|Keybindings</a>.</p>

  <h2><a name="vi_emulation" id="vi_emulation">Vi
  Emulation</a></h2>

  <p>Komodo emulates the following Vi modes:</p>

  <ul>
    <li>
      <strong>Normal</strong>: navigation and editing.

      <p>When you open a file in Komodo with the Vi scheme enabled,
      you start off in command mode. Keystrokes in this mode
      control movement, deletion, cutting, pasting and other
      standard editing commands that are generally mapped to Ctrl
      and Alt key combinations in other schemes.</p>
    </li>

    <li>
      <strong>Input</strong>: entering text.

      <p>Hitting an "input" command key in Normal mode (i.e.
      '<strong>i</strong>' to insert, '<strong>a</strong>' to
      append, or '<strong>o</strong>' to open a new line and
      insert) puts the editor into Input mode. Keystrokes in this
      mode enter text. Use the 'Esc' key to exit into Normal
      mode.</p>
    </li>

    <li>
      <strong>Visual</strong>: visual selection of text with
      navigation keystrokes.

      <p>Similar to Vim's visual modes. Entering
      '<strong>v</strong>' enables selection by character,
      '<strong>V</strong>' enables linewise selection, and
      '<strong>Ctrl</strong>'+'<strong>v</strong>' enables
      blockwise selection. Navigation keystrokes within these modes
      expand and contract the selection area. Use the 'Esc' key to
      exit into Normal mode.</p>
    </li>

    <li>
      <strong>Command-line</strong>: running vi/ex commands.

      <p>In Normal mode, entering '<strong>:</strong>' opens a text
      box in the status bar at the bottom of the Komodo window for
      entering Vi commands. The following Vi and Vim commands have
      been implemented in the default Vi scheme:</p>

      <ul>
        <li>edit</li>

        <li>exit</li>

        <li>help</li>

        <li>next</li>

        <li>previous</li>

        <li>quit</li>

        <li>set</li>

        <li>splitview</li>

        <li>undo</li>

        <li>write</li>

        <li>wq</li>

        <li>xit</li>

        <li>number &lt;line number&gt;</li>

        <li>&lt;range&gt;s/&lt;search
        string&gt;/&lt;substitution&gt;/[g|i|I]</li>
      </ul>
    </li>
  </ul>

  <h3><a name="vi_commands" id="vi_commands">Custom Vi
  Commands</a></h3>

  <p>To add your own Vi commands, create a <a href=
  "komodo-doc-toolbox.html">Toolbox</a> folder named <strong>Vi
  Commands</strong>, then add <a href=
  "komodo-doc-macros.html">Macros</a> or <a href=
  "komodo-doc-run.html">Run Commands</a> to the folder. The macro
  or command is executed when you type its name in the Vi
  command-line text box.</p>

  <p>Command-line arguments can be passed to Macros using the
  <code>koIViCommandDetail</code> XPCOM service. The IDL for this
  service is:</p>
  <pre class="code">
attribute long startLine;         // Start line (current line when unset)
attribute long endLine;           // End line (current line when unset)
attribute boolean forced;         // Command name ended with a "!"
attribute wstring commandName;    // Command name being run
attribute wstring leftover;       // Everything after the command
attribute wstring rawCommandString; // Raw command string as typed in
void getArguments(out unsigned long count,
                  [array, size_is(count), retval] out wstring args);
void setArguments(in unsigned long count,
                  [array, size_is(count)] in wstring args);
void clear();
</pre>

  <p><strong>JavaScript sample macro</strong>:</p>
  <pre class="code">
var viCommandDetails = Components.classes['@activestate.com/koViCommandDetail;1'].
                                getService(Components.interfaces.koIViCommandDetail);
var count = new Object();
var args = viCommandDetails.getArguments(count);
var msg = "startLine:" + viCommandDetails.startLine + "\n" +
          "endLine:" + viCommandDetails.endLine + "\n" +
          "commandName:" + viCommandDetails.commandName + "\n" +
          "arguments:" + args + "\n" +
          "rawCommandString:" + viCommandDetails.rawCommandString;
alert(msg);
</pre>

  <p><strong>Python sample macro</strong>:</p>
  <pre class="code">
from xpcom import components
viCommandDetails = components.classes['@activestate.com/koViCommandDetail;1'].getService(components.interfaces.koIViCommandDetail)
msg = [ "startLine: %d" % viCommandDetails.startLine ]
msg.append("endLine: %d" % viCommandDetails.endLine)
msg.append("commandName: %s" % viCommandDetails.commandName)
msg.append("arguments: %r" % viCommandDetails.getArguments())
msg.append("rawCommandString: %s" % viCommandDetails.rawCommandString)
print "\n".join(msg)
</pre>

  <h2><a name="vi_scheme" id="vi_scheme">Vi Scheme</a></h2>

  <p>The default Vi scheme is based on the Default scheme (which
  varies slightly between platforms) and includes all Default
  keybindings which do not conflict with those used in Vi
  emulation. To view the list of key bindings for your current
  scheme, select <strong>Help|List Key Bindings</strong>. The
  following are key bindings which are unique to the Vi scheme.</p>

  <h3>Vi key bindings</h3>
  <!-- copied from Komodo|Help - List Key Bindings for default Vi scheme -->

  <table width="100%">
    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Cancel</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>Ctrl+[</p>
            </td>
          </tr>

          <tr>
            <td>
              <p>Esc</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Cut One Character</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>x</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Cut One Character to Left</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>X</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Cut to End of Line and Enter Insert Mode</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>C</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Delete the Current Character and Enter Insert Mode</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>s</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Deletes from cursor to end of line.</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>D</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Enter Insert Mode</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>i</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Enter Insert Mode after the Cursor Position</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>a</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Enter Insert Mode at Start of the Line</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>I</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Enter Insert mode at the End of the Current Line</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>A</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Enter command mode</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>:</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Enter visual block mode</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>Ctrl+V</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Enter visual character mode</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>v</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Enter visual line mode</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>V</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Go to Next Line</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>j</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Go to Previous Line</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>k</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Goto Line</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>G</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Join current and next lines</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>J</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Move Left One Character</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>h</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Move One Word Left</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>b</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Move Right One Character</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>Space</p>
            </td>
          </tr>

          <tr>
            <td>
              <p>l</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Move To End of Word To Right</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>e</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Move To Start of Word To Right</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>w</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Move one page down</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>Ctrl+F</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Move one page up</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>Ctrl+B</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Move one word left, past any punctuation</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>B</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Move one word right, past any punctuation</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>W</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Move to Beginning of Line (first visible char/first
        column)</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>^</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Move to Beginning of the Current Line</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>|</p>
            </td>
          </tr>

          <tr>
            <td>
              <p>0</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Move to Beginning of the Previous Line</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>-</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Move to End of Current Line</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>$</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Move to end of word to the right, past any
        punctuation</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>E</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Move to the Beginning of the Paragraph</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>{</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Move to the Beginning of the Section</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>[, [</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Move to the Beginning of the Sentence</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>(</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Move to the Bottom of the Screen</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>L</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Move to the Center of the Screen</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>M</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Move to the End of the Paragraph</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>}</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Move to the End of the Section</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>], ]</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Move to the End of the Sentence</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>)</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Move to the Top of the Screen</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>H</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>New Line Starting After the Current Line</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>o</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>New Line Starting Before the Current Line</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>O</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Paste</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>P</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Paste After</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>p</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Redo</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>Ctrl+R</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Repeat the last command again</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>.</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Replace characters with the ones that are typed</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>R</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Replace the current char with the next typed
        character</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>r</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Scroll One Line Down</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>Ctrl+E</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Scroll One Line Up</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>Ctrl+P</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Search for the Next Occurance of the Word at the Current
        Cursor Position</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>*</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Search for the Previous Occurance of the Word at the
        Current Cursor Position</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>#</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Start Change Text Operation</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>c</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Start Delete Text Operation</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>d</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Start Yank Text Operation</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>y</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Swap the current character's case.</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>~</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Undo</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>u</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Enter Search Backwards</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>?</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Enter Search Forward</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>/</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Find Next Pattern</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>n</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Find Previous Pattern</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>N</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Find the Character Typed, After Cursor in Current
        Line</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>f</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Find the Character Typed, Before Cursor in Current
        Line</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>F</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Decrease Line Indent</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>&lt;, &lt;&lt;/p&gt;</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr bgcolor="#EEEEEE">
      <td width="50%%">
        <p>Increase Line Indent</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>&gt;, &gt;</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td width="50%%">
        <p>Jump to Matching Brace</p>
      </td>

      <td width="50%%">
        <table>
          <tr>
            <td>
              <p>%</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
  <hr />
</body>
</html>
